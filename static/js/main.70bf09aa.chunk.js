(this["webpackJsonpreact-second"]=this["webpackJsonpreact-second"]||[]).push([[0],{26:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(23),r=a.n(c),u=a(2),o=a(14);a(31);o.initializeApp({apiKey:"AIzaSyABFUJab4y5PUhBkCkNOKwmCklnoYeSsp4",authDomain:"chatapp-nbp.firebaseapp.com",databaseURL:"https://chatapp-nbp.firebaseio.com",projectId:"chatapp-nbp",storageBucket:"chatapp-nbp.appspot.com",messagingSenderId:"907279149180",appId:"1:907279149180:web:008d247956b9e99fff81f9",measurementId:"G-NM2CEPP9R7"});var i=o,m=l.a.createContext(),s=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(u.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){i.auth().onAuthStateChanged((function(e){o(e)}))}),[]),l.a.createElement(m.Provider,{value:r},t)},p=a(1),h=a(5),E=a(10),d=a.n(E),g=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(""),E=Object(u.a)(s,2),g=E[0],f=E[1];return Object(n.useContext)(m)?l.a.createElement(p.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Login"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.auth().signInWithEmailAndPassword(r,g).then((function(){t.push("/")})).catch((function(e){console.log(e)}))}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"Email",onChange:function(e){o(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",name:"email",placeholder:"password",onChange:function(e){f(e.target.value)}})),l.a.createElement("button",{type:"submit"},"Login")),l.a.createElement("button",{onClick:function(e){e.preventDefault(),i.auth().signInWithEmailAndPassword("guest@guest.com","a12345").then((function(){i.auth().currentUser.updateProfile({displayName:"guest_"+d.a.generate()})})).then((function(){t.push("/")})).catch((function(e){console.log(e)}))}},"Guest\u3067\u30ed\u30b0\u30a4\u30f3"),l.a.createElement("br",null),l.a.createElement(h.b,{to:"/signup"},"\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7"))},f=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],o=c[1],m=Object(n.useState)(""),s=Object(u.a)(m,2),p=s[0],E=s[1],g=Object(n.useState)(""),f=Object(u.a)(g,2),b=f[0],v=f[1];return l.a.createElement("div",null,l.a.createElement("h1",null,"Sign Up"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.auth().createUserWithEmailAndPassword(p,b).then((function(){i.auth().currentUser.updateProfile({displayName:r}).then((function(){t.push("/")}))})).catch((function(e){console.log(e)}))}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"userName"},"User Name"),l.a.createElement("input",{name:"name",type:"text",id:"userName",placeholder:"UserName",onChange:function(e){o(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement("input",{name:"email",type:"email",id:"email",placeholder:"Email",onChange:function(e){E(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{name:"password",type:"password",id:"password",placeholder:"Password",onChange:function(e){v(e.target.value)}})),l.a.createElement("button",{type:"submit"},"Sign Up")),l.a.createElement("button",{onClick:function(e){e.preventDefault(),i.auth().signInWithEmailAndPassword("guest@guest.com","a12345").then((function(){i.auth().currentUser.updateProfile({displayName:"guest_"+d.a.generate()})})).then((function(){t.push("/")})).catch((function(e){console.log(e)}))}},"Guest\u3067\u30ed\u30b0\u30a4\u30f3"),l.a.createElement("br",null),l.a.createElement(h.b,{to:"/login"},"\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u3078"))},b=(a(22),function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){i.firestore().collection("messages").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));t=t.sort((function(e,t){return e.time>t.time?1:-1})),c(t)}))}),[a]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"MESSAGES!!"),a&&l.a.createElement(l.a.Fragment,null,a.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("hr",null),l.a.createElement("p",null,"name: ",e.user," | ",e.time),l.a.createElement("p",null,"message: ",e.content))}))))}),v=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(m);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"ChatApp"),l.a.createElement(b,null),l.a.createElement("hr",null),l.a.createElement("p",null,r.displayName,"\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u307e\u3059"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new Date,n="YYYY/MM/DD hh:mi:ss".replace(/YYYY/g,String(t.getFullYear())).replace(/MM/g,("0"+(t.getMonth()+1)).slice(-2)).replace(/DD/g,("0"+t.getDate()).slice(-2)).replace(/hh/g,("0"+t.getHours()).slice(-2)).replace(/mi/g,("0"+t.getMinutes()).slice(-2)).replace(/ss/g,("0"+t.getSeconds()).slice(-2));i.firestore().collection("messages").add({content:a,user:r.displayName,time:n}).catch((function(e){console.log(e)})),c("")}},l.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)}}),l.a.createElement("button",{type:"submit"},"\u9001\u4fe1")),l.a.createElement("button",{onClick:function(){return i.auth().signOut()}},"Logout"))},O=a(25),j=function(e){var t=e.component,a=Object(O.a)(e,["component"]),c=Object(n.useContext)(m);return l.a.createElement(p.b,Object.assign({},a,{render:function(e){return c?l.a.createElement(t,e):l.a.createElement(p.a,{to:"/login"})}}))};var S=function(){return l.a.createElement(s,null,l.a.createElement(h.a,null,l.a.createElement(p.d,null,l.a.createElement(j,{exact:!0,path:"/",component:v}),l.a.createElement(p.b,{exact:!0,path:"/",component:v}),l.a.createElement(p.b,{exact:!0,path:"/login",component:g}),l.a.createElement(p.b,{exact:!0,path:"/signup",component:f}))))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.70bf09aa.chunk.js.map